const n="<span style=\"font-size: 32px; font-weight: 600;\">Webpack \u9032\u968E\u4F7F\u7528</span>\n\n## Code Splitting\n- ```Code Splitting(\u4EE3\u78BC\u5207\u5272)``` \u8207 ```webpack``` \u7121\u76F4\u63A5\u95DC\u4FC2\n- \u7528\u9014\uFF1A\u5C07\u4EE3\u78BC\u62C6\u5206\u53EF\u4EE5\u7BC0\u7701\u4E0B\u8F09\u7684\u6D41\u91CF(\u53EA\u4E0B\u8F09\u66F4\u6539\u7684\u90E8\u5206)\n- ```webpack``` \u5BE6\u73FE\u4EE3\u78BC\u5207\u5272\u6709\u5169\u7A2E\u65B9\u5F0F\n  - \u540C\u6B65\u4EE3\u78BC\uFF1A\u53EA\u9700 ```webpack``` \u8A2D\u5B9A ```optimization``` \u7684\u914D\u7F6E\u5373\u53EF\n  - \u7570\u6B65\u4EE3\u78BC\uFF1A\u7121\u9700\u4EFB\u4F55\u914D\u7F6E\uFF0C\u6703\u81EA\u52D5\u4EE3\u78BC\u5206\u5272\uFF0C\u653E\u7F6E\u5230\u65B0\u7684\u6587\u4EF6\u4E2D\n- ```webpack``` \u4F7F\u7528 ``` splitChunks``` \u9032\u884C\u914D\u7F6E\n  - [\u5B98\u65B9\u8AAA\u660E](https://webpack.js.org/plugins/split-chunks-plugin/)\n  - \u914D\u7F6E\u7BC4\u4F8B\n    ```js\n    optimization: {\n      splitChunks: {\n        /*\n          async\uFF1A\u53EA\u8655\u7406 Lazy Loading \u7684 chunks\uFF0C\u4F8B\u5982 import(xxx) \u8A9E\u6CD5\u8F09\u5165\u7684\u6A21\u7D44\uFF0C\u6703\u8D70\u5230 cacheGroups \u67E5\u770B\u914D\u7F6E\n          initial\uFF1A\u53EA\u8655\u7406\u540C\u6B65\u52A0\u8F09\u7684 chunk\uFF0C\u4F8B\u5982 import xxx \u8A9E\u6CD5\u8F09\u5165\u7684\u6A21\u7D44\n          all\uFF1A\u517C\u5BB9\u4EE5\u4E0A\u5169\u7A2E\u65B9\u5F0F\uFF0C\u901A\u901A\u9032\u884C\u8655\u7406\n        */\n        chunks: 'all',\n        // \u82E5\u5927\u65BC30kb\u624D\u9032\u884C\u4EE3\u78BC\u5206\u5272\n        minSize: 30000,\n        // \u5E7E\u4E4E\u4E0D\u7528\uFF0C\u82E5\u8D85\u904E 50kb \u5247\u9032\u884C\u591A\u6B21\u62C6\u5206(\u57FA\u672C\u4E0A\u5EAB\u90FD\u62C6\u5206\u4E0D\u4E86)\n        maxSize: 50000,\n        // \u8A72\u6A21\u7D44\u88AB\u5F15\u7528\u7684\u6B21\u6578\n        minChunks: 1,\n        // \u82E5\u5F15\u7528\u767C\u9001\u7684request\u8D85\u904E5\u500Bjs \u5247\u4E0D\u518D\u4EE3\u78BC\u5206\u5272\n        maxAsyncRequests: 5,\n        // \u5165\u53E3\u6587\u4EF6\u5F15\u7528\u7684\u5EAB\u6700\u591A\u5206\u5272\u6210 3 \u500Bjs\u518D\u591A\u5C31\u4E0D\u518D\u4EE3\u78BC\u5206\u5272\n        maxInitialRequests: 3,\n        // \u6587\u4EF6\u751F\u6210\u6642\u6703\u51FA\u73FE\u9023\u63A5\u7B26\uFF0C\u5982:vendors~main.js\n        automaticNameDelimiter: '~',\n        // \u4F7F\u7528 cacheGroups \u4E0B\u7684\u547D\u540D\n        name: true,\n        // \u6253\u5305\u5F8C\u6703\u5BDF\u770B\u662F\u5426\u7B26\u5408\u689D\u4EF6\u52A0\u5165\u7DE9\u5B58\u7D44(cacheGroups)\uFF0C\u518D\u4F9D\u547D\u540D\u6253\u5305(vendors.js)\n        cacheGroups: {\n          // \u82E5\u6253\u5305\u7684\u5EAB\u65BC node_modules \u5E95\u4E0B\u5247\u90FD\u6B78\u985E\u5230 vendors = vendors~main.js(\u5F8C\u9762main.js\u70BA\u5165\u53E3\u6A94\u540D)\n          // priority \u512A\u5148\u7D1A(\u5927\u5230\u5C0F)\uFF0CcacheGroups\u6703\u5BDF\u770B\u5404\u547D\u540D\u7684\u512A\u5148\u7D1A\u9032\u884C\u6253\u5305\u547D\u540D\n          vendors: {\n            test: /[\\\\/]node_modules[\\\\/]/,\n            priority: -10,\n            // \u82E5\u4E0D\u60F3\u53D6\u540D\u70BA vendors~xxx.js \u5247\u53EF\u81EA\u5DF1\u547D\u540D\n            // filename: 'vendors.js',\n          },\n          // \u82E5\u4E0D\u5728 vendors \u5247\u4F7F\u7528 default \u914D\u7F6E\n          default: {\n            priority: -20,\n            // \u4EE3\u8868\u82E5\u8A72\u5EAB\u5DF2\u88AB\u6253\u5305\uFF0C\u5247\u5176\u4ED6\u5730\u65B9\u5728\u5F15\u7528\u76F8\u540C\u5EAB\u6642\u5247\u76F4\u63A5\u9032\u884C\u5FA9\u7528\u4E0D\u91CD\u65B0\u6253\u5305\u9032\u53BB\n            reuseExistingChunk: true,\n            // \u82E5\u4E0D\u60F3\u53D6\u540D\u70BA default~xxx.js \u5247\u53EF\u81EA\u5DF1\u547D\u540D\n            filename: 'common.js'\n          }\n        }\n      }\n    }, \n    ```\n- ```webpack``` \u7570\u6B65\u52A0\u8F09\u8A9E\u53E5\u7BC4\u4F8B ```index.js```\n  - ```/* webpackChunkName:\"lodash\" */``` \u4EE3\u8868\u5728\u7570\u6B65\u52A0\u8F09\u500B\u5225\u6253\u5305 ```lodash``` \u6642\u53D6\u540D\u70BA ```lodash```\n  ```js\n  async function getComponent() {\n    const { default: _ } = await import(/* webpackChunkName:\"lodash\" */ 'lodash');\n    const element = document.createElement('div');\n    element.innerHTML = _.join(['ming', '123'], '-');\n    return element;\n  }\n\n  // \u61F6\u52A0\u8F09\u5373\u7BC0\u7701\u52A0\u8F09\u7DB2\u8DEF\u8CC7\u6E90\uFF0C\u66F4\u5FEB\u7684\u5C07\u9801\u9762\u6E32\u67D3\u7D66\u4F7F\u7528\u8005\n  // chunk \u4EE3\u8868\u6253\u5305\u5F8C\u7684\u6BCF\u4E00\u500B\u6587\u4EF6\u90FD\u662F\u4E00\u500B\u5340\u584A\n  document.addEventListener('click', () =>{\n    getComponent().then(element => {\n      document.body.appendChild(element);\n    });\n  })\n  ```\n\n## Caching \u7DE9\u5B58\n- \u5728\u4E4B\u524D\u4F7F\u7528 ```Loader``` \u52A0\u8F09\u5716\u7247\u6642\u4F7F\u7528\u904E\uFF0C\u4E3B\u8981\u70BA\u4EE5\u4E0B\u5E7E\u7A2E\n  - ```[hash]```\uFF1A\u8A72\u6B21\u6253\u5305\u7684\u54C8\u5E0C\u503C\uFF0C\u7121\u7DE9\u5B58\u4F5C\u7528\n  - ```[contenthash]```\uFF1A\u5167\u5BB9\u7684\u54C8\u5E0C\u503C\uFF0C\u53EF\u9032\u884C\u5167\u5BB9\u5C0D\u6BD4\u9054\u5230\u7DE9\u5B58\u4F5C\u7528\n  - ```[chunkhash]```\uFF1A\u70BA\u4F9D\u8CF4\u5305\u7684\u54C8\u5E0C\u503C\uFF0C\u53EF\u9032\u884C\u5167\u5BB9\u5C0D\u6BD4\u9054\u5230\u7DE9\u5B58\u4F5C\u7528\n  - \u53EF\u52A0\u4E0A ```:(length)``` \u6E1B\u5C11\u54C8\u5E0C\u503C\u5B57\u4E32\u9577\u5EA6(\u9810\u8A2D\u70BA20)\n    - \u5982\uFF1A```[name].[contenthash:8][ext]```\n```js\n{\n  // \u5165\u53E3\u6AA2\u6E2C\u7B26\u5408\u898F\u5247\u7684\u6A94\u540D\n  test: /\\.(png|jpe?g|gif|svg)$/,\n  // url-loader \u65BC webpack5 \u68C4\u7528\uFF0C\u6539\u7528\u4EE5\u4E0B\u914D\u7F6E\n  type: 'asset/resource',\n  generator: {\n    /*\n      [name]:\u4F7F\u7528\u539F\u6A94\u6848\u540D\n      [hash]:\u8A72\u6B21\u6253\u5305\u7684\u54C8\u5E0C\u503C\n      [contenthash]:\u5716\u7247\u5167\u5BB9\u7684\u54C8\u5E0C\u503C\n      [ext]:\u4F7F\u7528\u539F\u526F\u6A94\u540D(\u524D\u9762\u6703\u81EA\u52D5\u52A0\u4E0A\".\")\n    */\n    filename: `[name].[contenthash][ext]`\n  },\n}\n\n// =========================================\noptimization: {\n  /*\n    \u5728\u820A\u7248\u672C webpack \u53EF\u80FD\u6703\u51FA\u73FE\u5167\u5BB9\u4E00\u6A23\u4F46\u54C8\u5E0C\u503C\u4E5F\u6703\u8B8A\u5316\n    \u539F\u56E0\u662F js \u8207 js \u6587\u4EF6\u4E4B\u9593\u7684\u95DC\u4FC2: manifest \n    \u6703\u5305\u542B\u5728\u5404\u500B js \u6587\u4EF6\u5167\u5C0E\u81F4\u5167\u5BB9\u8207\u539F\u672C\u6709\u53EF\u80FD\u96A8\u6A5F\u4E0D\u540C\n    \u901A\u904E runtimeChunk \u5C07 manifest(\u6587\u4EF6\u4E4B\u9593\u7684\u95DC\u4FC2) \u984D\u5916\u6253\u5305\u51FA\u4F86\u907F\u514Djs\u5167\u5BB9\u6709\u5DEE\u7570\n  */ \n  runtimeChunk: {\n    name: 'runtime'\n  },\n},\n```\n\n## Shimming\n- \u7528\u9014\uFF1A\u67E5\u770B\u6240\u6709\u6587\u4EF6\u662F\u5426\u6709\u76F8\u7B26\uFF0C\u81EA\u52D5\u5F15\u5165\u76F8\u95DC\u7684\u4F9D\u8CF4\u5305\n  ```js\n  plugins: [\n    new webpack.ProvidePlugin({\n      // \u7576\u767C\u73FE\u6587\u4EF6\u4F7F\u7528 $ \u7B26\u865F\u5247\u81EA\u52D5\u5F15\u5165 jquery\n      $: 'jquery',\n      // \u7576\u767C\u73FE\u6587\u4EF6\u4F7F\u7528 _join \u5247\u5F15\u7528 lodash \u4E0B\u7684 join \u65B9\u6CD5\n      _join: ['lodash', 'join']\n    }),\n  ],\n  ```\n- \u82E5\u8981\u8A2D\u5B9A\u6A21\u584A ```this``` \u5C0D\u8C61\u6307\u5411 ```window```\n  - \u9700\u8981\u5B89\u88DD\u4F9D\u8CF4\uFF1A```npm install imports-loader --save-dev```\n  - \u4E26\u52A0\u5165\u4EE5\u4E0B\u914D\u7F6E\n    ```js\n    module: {\n      rules: [{ \n        test: /\\.js$/, \n        exclude: /node_modules/,\n        // \u82E5\u8981\u7528\u591A\u500Bloader\u5247\u9808\u7528use\n        use: [{\n          loader: 'babel-loader'\n        }, {\n          // \u82E5\u8981\u5728 js \u6587\u4EF6\u4E2D this === window\n          // \u5B89\u88DD npm install imports-loader --save-dev\n          // \u914D\u7F6E\u4EE5\u4E0B\n          loader: 'imports-loader?this=>window'\n        }]\n      }]\n    },\n    ```\n\n## Env \u74B0\u5883\u8B8A\u6578\n- \u901A\u5E38\u4E0D\u5EFA\u8B70\u4F7F\u7528\u74B0\u5883\u8B8A\u6578\n- \u5728 ```package.json``` \u8207 ```webpack``` \u8A2D\u5B9A\u52A0\u5165\u74B0\u5883\u8B8A\u6578\u5224\u65B7\n  ```js\n  /*\n    env \u5728 package.json \u5B9A\u7FA9\n    webpack --env.production --config ./build/webpack.common.js\"\n    \u4E0A\u9762 --env.production \u5373 production \u9ED8\u8A8D\u70BA true\n\n    \u82E5\u5BEB\u6210 --env production \n    \u5247\u4E0B\u9762 (env) \u53EF\u4EE5\u76F4\u63A5\u5BEB\u70BA (production)\n\n    \u82E5\u5BEB\u6210 --env.production=abc \n    \u5247\u4E0B\u9762 if(env && env.production) \n    \u53EF\u4EE5\u6539\u5BEB\u70BA if(env && env.production === 'abc')\n  */\n  \n  module.exports = (env) => {\n    if(env && env.production) {\n      return merge(commonConfig, prodConfig);\n    }else {\n      return merge(commonConfig, devConfig);\n    }\n  }\n  ```\n\n## \u88FD\u4F5C Library\n- \u82E5\u8981\u4F7F\u7528 ```import``` \u65B9\u5F0F\u9032\u884C\u6253\u5305\u9700\u5B89\u88DD ```webpack```\n  ```npm install webpack webpack-cli --save-dev```\n- \u4E26\u5EFA\u7ACB ```webpack.config.js```\n  - ```externals```\uFF1A\u6703\u9032\u884C\u5FFD\u7565\u907F\u514D\u4F7F\u7528\u8005\u6709\u76F8\u540C\u7684\u4F9D\u8CF4\u5305\n    - ```externals``` [\u5B98\u65B9\u8AAA\u660E](https://webpack.js.org/configuration/externals/)\n    - ```externals``` \u53EF\u4EE5\u662F\u5176\u4ED6\u7684\u6578\u7D44\u6216\u5C0D\u8C61\n    - \u5728\u6587\u4EF6\u5167\u6703\u4F9D\u4F7F\u7528\u8005\u7684\u540D\u5B57\u4E0D\u540C\u53D6\u540D\u5F15\u7528\n  ```js\n  module.exports = {\n    mode: 'production',\n    entry: './src/index.js',\n    externals: 'lodash',\n    output: {\n      path: path.resolve(__dirname, 'dist'),\n      filename: 'library.js',\n      // \u5982\u8981\u7528script\u5F15\u5165\u65B9\u5F0F\u5247\u9700\u4F7F\u7528\u6B64\u65B9\u5F0F\u639B\u8F09\u5230\u5168\u5C40\u8B8A\u91CF(window.root)\n      library: 'root',\n      /*\n        umd(Universal Module Definition) \n        \u4EE3\u8868\u7121\u8AD6\u4F7F\u7528\u8005\u7528\u54EA\u7A2E\u5F15\u5165\u65B9\u5F0F\u90FD\u901A\u7528(\u9664\u4E86script\u5F15\u5165\u65B9\u5F0F)\n\n        libraryTarget \u4E5F\u53EF\u4EE5\u8B8A\u70BA this, window, global\n        \u4EE5\u4E0A\u4E09\u7A2E\u4E0D\u5E38\u7528\u4E26\u4E14\u7121\u6CD5\u4F7F\u7528\u901A\u7528\u5F15\u5165\u65B9\u5F0F\n      */\n      \n      libraryTarget: 'umd'\n  }\n  ```\n- \u82E5\u5168\u90E8\u88FD\u4F5C\u5B8C\u6210\u5247\u53EF\u4EE5\u767C\u4F48\u5230 ```npm``` \u4E0A\n  - 1.\u5148\u81F3 ```npm``` \u8A3B\u518A\u5E33\u865F\n  - 2.\u5728\u547D\u4EE4\u884C\u52A0\u5165\u5E33\u865F ```npm adduser```\n  - 3.\u767C\u4F48\u5230\u516C\u7528\u5009\u5EAB(\u82E5\u6709\u76F8\u540C\u540D\u5B57\u6703\u88AB\u963B\u64CB) ```npm publish```\n\n## ESLint \u914D\u7F6E\n- [ESLint \u5B98\u65B9\u8A2D\u5B9A\u8AAA\u660E](https://eslint.org/docs/user-guide/configuring/)\n- \u5B89\u88DD ```ESLint```\uFF1A```npm install eslint --save-dev```\n- \u751F\u6210 ```ESLint``` \u8A2D\u5B9A\u6587\u4EF6(```.eslintrc.js```)\uFF1A```npx eslint --init ```\n- \u82E5\u8981\u5728 ```git commit``` \u4E4B\u524D\u6AA2\u6E2C\u4E26\u963B\u6B62\u63D0\u4EA4\uFF0C\u53EF\u4F7F\u7528 ```git hooks```\n- \u4EE5\u4E0B\u6709\u591A\u7A2E\u4F7F\u7528 ```ESLint``` \u6AA2\u6E2C\u7A0B\u5F0F\u65B9\u5F0F\n  - 1.\u5C0D\u6307\u5B9A\u8CC7\u6599\u593E ```src``` \u9032\u884C\u6AA2\u6E2C\uFF1A```npx eslint src```\n  - 2.\u5728 ```vscode``` \u5B89\u88DD ```ESLint``` \u63D2\u4EF6\uFF0C\u6703\u81EA\u52D5\u76E3\u6E2C\u4E0D\u7B26\u5408\u7684\u7A0B\u5F0F\u78BC\u4E26\u81EA\u52D5\u6A19\u793A\u8D77\u4F86(\u63D0\u793A\u6703\u986F\u793A\u7528\u65BC\u54EA\u4E00\u898F\u5247\uFF0C\u53EF\u4EE5\u9032\u884C\u53D6\u6D88)\n  - 3.\u4F7F\u7528 ```eslint-loader``` \u6AA2\u6E2C\n    - \u5B89\u88DD\u4F9D\u8CF4\uFF1A```npm install eslint-loader --save-dev```\n    - \u5728 ```webpack.config.js``` \u5206\u5225\u505A\u4EE5\u4E0B\u8A2D\u5B9A\n      ```js\n      // devServer\n      devServer: {\n        overlay: true,\n      }\n      // rules\n      { \n        test: /\\.js$/, \n        exclude: /node_modules/, \n        use: ['babel-loader', 'eslint-loader']\n      },\n      ```\n    - \u5B8C\u6210\u914D\u7F6E\u5F8C\u932F\u8AA4\u5C07\u986F\u793A\u5728\u9801\u9762\u4E0A\n\n## \u6027\u80FD\u512A\u5316\n- \u52A0\u5FEB\u6253\u5305\u6548\u7387\uFF0C\u4F7F\u4E0A\u7248\u8207\u958B\u767C\u901F\u5EA6\u63D0\u5347\n- \u4EE5\u4E0B\u70BA\u591A\u7A2E\u6027\u80FD\u512A\u5316\u65B9\u5F0F\n  - 1.\u8DDF\u4E0A\u6280\u8853\u8FED\u4EE3 ```Node\u3001webpack\u3001npm...```\n  - 2.\u904B\u7528 ```Loader``` \u6642\u76E1\u91CF\u6392\u9664\u4E0D\u9700\u8981\u8655\u7406\u7684\u6587\u4EF6\n  - 3.```Plugins``` \u76E1\u53EF\u80FD\u7CBE\u7C21\u4E26\u78BA\u4FDD\u53EF\u9760\n  - 4.\u63A7\u5236\u5305\u6587\u4EF6\u5927\u5C0F\uFF1A```splitChunks\u3001treeshaking...```\n  - 5.\u4F7F\u7528\u591A\u9032\u7A0B\u6253\u5305\uFF1A```thread-loader\u3001parallel-webpack\u3001happypack```\n  - 6.\u5408\u7406\u4F7F\u7528 ```sourceMap```\n  - 7.\u7D50\u5408 ```stats``` \u5206\u6790\u6253\u5305\u7D50\u679C\n  - 8.\u958B\u767C\u74B0\u5883\u914D\u7F6E\uFF1A\u5167\u5B58\u7DE8\u8B6F\u3001\u7121\u7528\u63D2\u4EF6\u53BB\u9664\n  - 9.```resolve``` \u5408\u7406\u914D\u7F6E\uFF0C```Webpack``` \u6703\u8ABF\u7528 ```Node``` \u5E95\u5C64\u5C0B\u627E\u76F8\u7B26\u7684\u6587\u4EF6\n    - [resolve \u5B98\u65B9\u6587\u6A94](https://webpack.js.org/configuration/resolve/)\n    - \u7BC4\u4F8B\n      ```js\n      resolve: {\n        // \u7576\u5F15\u5165\u6642\u6C92\u6709\u52A0\u5F8C\u7DB4\uFF0Cwebpack\u6703\u81EA\u52D5\u53BB\u5C0B\u627E\u4EE5\u4E0B\u7684\u5F8C\u7DB4\u6587\u4EF6(\u5DE6\u5230\u53F3)\n        extensions: ['.js', '.jsx'],\n        // \u7576\u5F15\u5165\u7684\u662F\u8CC7\u6599\u593E\uFF0C\u6C92\u8A2D\u5B9A\u5247webpack\u9ED8\u8A8D\u6703\u5148\u6293index\u958B\u982D\u7684\u6587\u4EF6(\u5DE6\u5230\u53F3\u5C0B\u627E)\n        // mainFiles: ['index','child'],\n        // alias \u53EF\u5C07\u7279\u5B9A\u8DEF\u5F91\u4E0B\u7684\u6587\u4EF6\u7576\u4F5C\u4F9D\u8CF4\u5EAB\u4F7F\u7528:import Child from 'child';\n        alias: {\n          child: path.resolve(__dirname, '../src/a/b/c/child')\n        }\n      },\n      ```\n  - 10.\u907F\u514D\u91CD\u8907\u6253\u5305 ```node_modules(\u7B2C\u4E09\u65B9)``` \u4F9D\u8CF4\u5EAB\n    - 1.\u5EFA\u7ACB ```webpack.dll.js```\n      ```js\n      const path = require('path');\n      const webpack = require('webpack');\n\n      module.exports = {\n        mode: 'production',\n        entry: {\n          vendors: ['lodash'],\n          react: ['react', 'react-dom'],\n          jquery: ['jquery']\n        },\n        output: {\n          filename: '[name].dll.js',\n          path: path.resolve(__dirname, '../dll'),\n          // \u4EE5entry\u540D\u7A31\u4F5C\u70BA\u5EAB\u505A\u4F7F\u7528\n          library: '[name]'\n        },\n        plugins: [\n          // \u4F7F\u7528\u63D2\u4EF6\u5C07\u5EAB\u4E4B\u9593\u7684\u6620\u5C04\u95DC\u4FC2\u4FDD\u5B58\u5230 [name].manifest.json \u6587\u4EF6\n          new webpack.DllPlugin({\n            name: '[name]',\n            path: path.resolve(__dirname, '../dll/[name].manifest.json'),\n          })\n        ]\n      }\n      ```\n    - 2.\u5728 ```package.json script``` \u52A0\u5165\u4E26\u57F7\u884C ```\"build:dll\": \"webpack --config ./build/webpack.dll.js\"```\n    - 3.\u5B89\u88DD\u4F9D\u8CF4\uFF1A```npm install add-asset-html-webpack-plugin --save```\n    - 4.\u5728\u4E3B\u8981 ```webpack``` \u8A2D\u5B9A\u52A0\u5165\n      ```js\n      const AddAssetHtmlWebpackPlugin = require('add-asset-html-webpack-plugin');\n\n      // \u56FA\u5B9A\u7684plugin\n      const plugins = [\n        new HtmlWebpackPlugin({\n          template: 'src/index.html'\n        }), \n        new CleanWebpackPlugin(['dist'], {\n          root: path.resolve(__dirname, '../')\n        })\n      ];\n\n      // \u9805\u76EE\u53EF\u80FD\u6703\u6709\u591A\u500B\u7B2C\u4E09\u65B9\u4F9D\u8CF4\u9700\u8981\u5206\u5225\u914D\u7F6E\n      // \u8B80\u53D6dll\u8CC7\u6599\u593E\u4E0B\u6240\u6709\u6587\u4EF6\n      const files = fs.readdirSync(path.resolve(__dirname, '../dll'));\n      files.forEach(file => {\n        if(/.*\\.dll.js/.test(file)) {\n          // \u5C07\u6253\u5305\u597D\u7684\u7B2C\u4E09\u65B9\u5EAB\u5F15\u5165html\n          plugins.push(new AddAssetHtmlWebpackPlugin({\n            filepath: path.resolve(__dirname, '../dll', file)\n          }))\n        }\n        if(/.*\\.manifest.json/.test(file)) {\n          /*\n            \u5728\u5F15\u5165\u7B2C\u4E09\u65B9\u5EAB\u6642\uFF0Cwebpack\u6703\u5148\u900F\u904E\n            vendors.manifest.json\u6587\u4EF6\u53D6\u5F97\u7B2C\u4E09\u65B9\u5EAB\u5F15\u5165\n\n            \u82E5\u7B2C\u4E09\u65B9\u5EAB\u7121\u5206\u958B\u6253\u5305\uFF0C\u6253\u5305\u901F\u5EA6\u6703\u8F03\u6162\uFF0C\n            webpack \u5F15\u5165\u4F9D\u8CF4\u5EAB\u6642\u4E00\u5F8B\u5F80 node__modules \u5C0B\u627E\n          */\n          plugins.push(new webpack.DllReferencePlugin({\n            manifest: path.resolve(__dirname, '../dll', file)\n          }))\n        }\n      })\n      module.exports = {\n        plugins,\n      }\n      ```\n\n## \u591A\u9801\u9762\u914D\u7F6E\n- \u5B89\u88DD\u4F9D\u8CF4\uFF1A```npm i html-webpack-plugin -D```\n- \u5728\u4E3B\u8981 ```webpack``` \u8A2D\u5B9A\u52A0\u5165\n  - \u591A\u500B\u9801\u9762\u5373\u5C0D\u61C9\u591A\u500B ```new HtmlWebpackPlugin```\n  ```js\n  const htmlMinifyOptions = {\n    // \u5220\u9664 html \u4E2D\u7684\u8A3B\u91CB\n    removeComments: true,\n    // \u5220\u9664 html \u4E2D\u7684\u7A7A\u683C\n    collapseWhitespace: true,\n    // \u5220\u9664 html \u6A19\u7C64\u7684\u96D9\u5F15\u865F\n    removeAttributeQuotes: true,\n    // \u5C07 html \u6587\u4EF6\u5167\u7684 css \u58D3\u7E2E\n    minifyCSS: true,\n    // \u5C07 html \u6587\u4EF6\u5167\u7684 js \u58D3\u7E2E\n    minifyJS: true\n  }\n  plugins: [\n    // \u8A2D\u5B9A\u589E\u52A0\u9700\u8981\u986F\u793A\u7684\u9801\u9762\n    new HtmlWebpackPlugin({\n      // \u539F\u8CC7\u6599\u6A94\u6848\n      template: './src/index.html',\n      // \u8F38\u51FA\u6A94\u6848\u540D\n      filename: 'index.html',\n      // \u8A2D\u5B9A\u9700\u8981\u7684\u8CC7\u6E90(entry)\n      chunks: ['your.js'],\n      minify: htmlMinifyOptions\n    }),\n  ]\n  ```\n\n## \u53C3\u8003\u9023\u7D50\n- [Webpack \u5B98\u7DB2](https://webpack.js.org/)\n- [Webpack \u4E2D\u6587\u7DB2](https://www.webpackjs.com/concepts/)\n";export{n as default};
